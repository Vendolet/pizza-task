(function(){var t={421:function(t,e,a){"use strict";var r=a(9242),n=a(3396);const o=(0,n.uE)('<footer class="footer"><div class="wrapper"><div class="footer__license"> 2022 Компания &quot;ПИЦЦА-БЫСТРО&quot;<br>Все права защищены</div><div class="footer__callback"><div class="footer__email"> Обратная связь:<br><span class="important-text">kolobov.m.s@yandex.ru</span></div><div class="footer__develop"> Разработано - <br><span class="important-text">Для ПРОГРАММНЫЙ ЦЕНТР</span></div></div></div></footer>',1);function s(t,e,a,r,s,i){const u=(0,n.up)("vMainVue");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(u),o],64)}var i=a(7139);const u={class:"header"},c={class:"wrapper header__wrapper"},l={class:"logo"},p=(0,n._)("h1",null,"ПИЦЦА-БЫСТРО",-1),d={class:"header__button-block",id:"basket"},_={class:"header__button"},g=(0,n.Uk)("Оформить заказ"),m={class:"main"},v={class:"wrapper main__wrapper"};function f(t,e,a,r,o,s){const f=(0,n.up)("router-link"),b=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("header",u,[(0,n._)("div",c,[(0,n._)("div",l,[(0,n.Wm)(f,{to:{name:"catalog"}},{default:(0,n.w5)((()=>[p])),_:1})]),(0,n._)("div",d,[(0,n._)("div",_,"Корзина ("+(0,i.zw)(t.BASKET.length)+")",1),(0,n.Wm)(f,{class:"header__button order_btn",to:{name:"basket"}},{default:(0,n.w5)((()=>[g])),_:1})])])]),(0,n._)("main",m,[(0,n._)("div",v,[(0,n.Wm)(b)])])],64)}var b=a(65),h={name:"vMainVue",data(){return{}},computed:{...(0,b.Se)(["BASKET"])}},T=a(89);const k=(0,T.Z)(h,[["render",f]]);var E=k,O={name:"App",components:{vMainVue:E},data(){return{}}};const S=(0,T.Z)(O,[["render",s]]);var A=S,P=a(6265),D=a.n(P);let w=(0,b.MT)({state:{products:[],basket:[],pagination:{first_page_url:null,last_page_url:null,next_page_url:null,prev_page_url:null,last_page:null,current_page:null},startPage:"http://pizza-market:81/api"},mutations:{SET_PRODUCTS_TO_STATE:(t,e)=>{t.products=e.data},SET_PAGINATION_TO_STATE:(t,e)=>{t.pagination.current_page=e.current_page,t.pagination.last_page=e.last_page,t.pagination.last_page_url=e.last_page_url,t.pagination.first_page_url=e.first_page_url,t.pagination.next_page_url=e.next_page_url,t.pagination.prev_page_url=e.prev_page_url},SET_BASKET:(t,e)=>{t.basket.push(e)},REMOVE_BASKET:(t,e)=>{t.basket.splice(e,1)},CLEAR_BASKET:t=>{t.basket=[]}},actions:{GET_PRODUCTS({commit:t},e){return D()(e,{method:"GET"}).then((e=>(t("SET_PRODUCTS_TO_STATE",e.data),t("SET_PAGINATION_TO_STATE",e.data),e))).catch((t=>(console.log(t),t)))},ADD_TO_BASKET({commit:t},e){t("SET_BASKET",e)},DELETE_FROM_BASKET({commit:t},e){t("REMOVE_BASKET",e)},CLEAR_BASKET({commit:t}){t("CLEAR_BASKET")}},getters:{PRODUCTS(t){return t.products},BASKET(t){return t.basket},PAGINATION(t){return t.pagination},START_PAGE(t){return t.startPage}}});var B=w,C=a(2483);const x=(0,n._)("h2",{class:"h2"},"Наши предложения",-1),j={id:"main",class:"cards-field"};function y(t,e,a,r,o,s){const i=(0,n.up)("vCardVue"),u=(0,n.up)("vPaginationVue");return(0,n.wg)(),(0,n.iD)(n.HY,null,[x,(0,n._)("ul",j,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.PRODUCTS,(t=>((0,n.wg)(),(0,n.j4)(i,{key:t.id,productData:t,onAddProductToBasket:s.addProductToBasket},null,8,["productData","onAddProductToBasket"])))),128))]),(0,n.Wm)(u,{current_page:t.PAGINATION.current_page,last_page:t.PAGINATION.last_page,next_page_url:t.PAGINATION.next_page_url,prev_page_url:t.PAGINATION.prev_page_url},null,8,["current_page","last_page","next_page_url","prev_page_url"])],64)}const R={class:"card"},K={class:"wrapper-card-img"},N=["src","alt"],G={class:"card__note"},V={class:"card__price"},U=["id"];function $(t,e,r,o,s,u){return(0,n.wg)(),(0,n.iD)("li",R,[(0,n._)("div",K,[(0,n._)("img",{class:"card__img",src:a(5459)("./"+r.productData.img),alt:r.productData.note},null,8,N)]),(0,n._)("p",G,(0,i.zw)(r.productData.note),1),(0,n._)("p",V,(0,i.zw)(r.productData.price)+" р",1),(0,n._)("button",{class:"card__button",onClick:e[0]||(e[0]=(...t)=>u.addProductToBasket&&u.addProductToBasket(...t)),id:r.productData.id},"В корзину",8,U)])}var I={name:"vCardVue",props:{productData:{type:Object,default(){return{}}}},data(){return{}},methods:{addProductToBasket(){this.$emit("addProductToBasket",this.productData)}}};const z=(0,T.Z)(I,[["render",$]]);var F=z;const M={id:"pagination",class:"main__button-block"},L={class:"button_disable button_active",id:"currentPage"};function q(t,e,a,r,o,s){return(0,n.wg)(),(0,n.iD)("div",M,[(0,n._)("button",{onClick:e[0]||(e[0]=(...t)=>s.prevPage&&s.prevPage(...t)),class:(0,i.C_)([s.isPrevDisable,"button_big"])},"ПРЕДЫДУЩАЯ",2),(0,n._)("button",L,(0,i.zw)(a.current_page),1),(0,n._)("button",{onClick:e[1]||(e[1]=(...t)=>s.nextPage&&s.nextPage(...t)),class:(0,i.C_)([s.isNextDisable,"button_big"])},"СЛЕДУЮЩАЯ",2)])}var Z={name:"vPaginationVue",props:{current_page:Number,last_page:Number,next_page_url:String,prev_page_url:String},data(){return{linkStartPage:""}},computed:{...(0,b.Se)(["START_PAGE"]),isPrevDisable(){return this.current_page<2?"button_disable":"button"},isNextDisable(){return this.current_page>=this.last_page?"button_disable":"button"}},methods:{...(0,b.nv)(["GET_PRODUCTS"]),nextPage(){this.linkStartPage=this.next_page_url,this.GET_PRODUCTS(this.linkStartPage)},prevPage(){this.linkStartPage=this.prev_page_url,this.GET_PRODUCTS(this.linkStartPage)},updateData(){this.linkStartPage=this.START_PAGE}},mounted(){this.updateData(),this.GET_PRODUCTS(this.linkStartPage)}};const H=(0,T.Z)(Z,[["render",q]]);var W=H,Y={name:"vCatalogVue",components:{vCardVue:F,vPaginationVue:W},props:{},data(){return{}},computed:{...(0,b.Se)(["PRODUCTS","PAGINATION"])},methods:{...(0,b.nv)(["GET_PRODUCTS","ADD_TO_BASKET"]),addProductToBasket(t){this.ADD_TO_BASKET(t)}}};const J=(0,T.Z)(Y,[["render",y]]);var Q=J;const X={key:0,class:"h2"},tt={key:1,class:"h2"},et={class:"list-orders"},at={class:"total-price"},rt={key:2,class:"main__button-block"},nt=(0,n.Uk)("Оформить заказ");function ot(t,e,a,r,o,s){const u=(0,n.up)("vBasketItemVue"),c=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[t.BASKET.length?((0,n.wg)(),(0,n.iD)("h2",X,"Ваша корзина")):((0,n.wg)(),(0,n.iD)("h2",tt,"Ваша корзина пуста")),(0,n._)("ul",et,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.BASKET,((t,e)=>((0,n.wg)(),(0,n.j4)(u,{key:t.id,productOfBasketData:t,onRemoveProductOfBasket:t=>s.removeProductOfBasket(e)},null,8,["productOfBasketData","onRemoveProductOfBasket"])))),128))]),(0,n._)("p",at," Добавлено товаров на сумму: "+(0,i.zw)(s.calcTotalPriceOrders)+" р",1),t.BASKET.length?((0,n.wg)(),(0,n.iD)("div",rt,[(0,n.Wm)(c,{to:{name:"formOrder"},class:"button button_big button_submit"},{default:(0,n.w5)((()=>[nt])),_:1})])):(0,n.kq)("",!0)],64)}const st={class:"order"},it=["src","alt"],ut={class:"order__note"},ct={class:"order__price"};function lt(t,e,r,o,s,u){return(0,n.wg)(),(0,n.iD)("li",st,[(0,n._)("img",{class:"order__img",src:a(5459)("./"+r.productOfBasketData.img),alt:r.productOfBasketData.note},null,8,it),(0,n._)("p",ut,(0,i.zw)(r.productOfBasketData.note),1),(0,n._)("p",ct,(0,i.zw)(r.productOfBasketData.price)+" р",1),(0,n._)("button",{class:"button",onClick:e[0]||(e[0]=t=>u.removeProductOfBasket())},"Удалить")])}var pt={name:"vCardVue",props:{productOfBasketData:{type:Object,default(){return{}}}},data(){return{}},methods:{removeProductOfBasket(){this.$emit("removeProductOfBasket")}}};const dt=(0,T.Z)(pt,[["render",lt]]);var _t=dt,gt={name:"vBasketVue",data(){return{}},components:{vBasketItemVue:_t},computed:{...(0,b.Se)(["BASKET"]),calcTotalPriceOrders(){let t=0;for(let e of this.BASKET)t+=Number(e.price);return t}},methods:{...(0,b.nv)(["DELETE_FROM_BASKET"]),removeProductOfBasket(t){this.DELETE_FROM_BASKET(t)}}};const mt=(0,T.Z)(gt,[["render",ot]]);var vt=mt;const ft=(0,n._)("h2",{class:"h2"},"Оформление заказа",-1),bt={key:0},ht={class:"label"},Tt={class:"main__button-block"},kt=(0,n.Uk)("На главную"),Et=(0,n._)("label",{class:"label",for:"name"},"Введите ваше имя:",-1),Ot={key:0,class:"input-invalid_text"},St=(0,n._)("label",{class:"label",for:"phone"},"Ваш номер мобильного телефона:",-1),At=(0,n._)("span",{class:"prefix-tel"},"+7",-1),Pt={key:0,class:"input-invalid_text"},Dt=(0,n._)("label",{class:"label",for:"address"},"Ваш адрес:",-1),wt={key:1,class:"input-invalid_text"},Bt=(0,n._)("div",{class:"main__button-block"},[(0,n._)("input",{class:"button button_big button_submit",type:"submit"})],-1);function Ct(t,e,a,o,s,u){const c=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[ft,s.isOrderToSend?((0,n.wg)(),(0,n.iD)("div",bt,[(0,n._)("p",ht,(0,i.zw)(s.messageAboutSend),1),(0,n._)("div",Tt,[(0,n.Wm)(c,{class:"button button_big button_submit",to:{name:"catalog"}},{default:(0,n.w5)((()=>[kt])),_:1})])])):((0,n.wg)(),(0,n.iD)("form",{key:1,class:"form-order",onSubmit:e[3]||(e[3]=(0,r.iM)(((...t)=>u.validateForm&&u.validateForm(...t)),["prevent"]))},[Et,(0,n.wy)((0,n._)("input",{class:(0,i.C_)(["input",{input_invalid:o.v$.dataCustomer.name.$error}]),type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=t=>s.dataCustomer.name=t)},null,2),[[r.nr,s.dataCustomer.name,void 0,{trim:!0}]]),o.v$.dataCustomer.name.$error?((0,n.wg)(),(0,n.iD)("p",Ot,"Поле должно быть заполнено и не короче двух символов")):(0,n.kq)("",!0),St,(0,n._)("div",null,[At,(0,n.wy)((0,n._)("input",{class:(0,i.C_)(["input",{input_invalid:o.v$.dataCustomer.phone.$error}]),id:"phone",type:"tel",pattern:"[0-9]{10}",placeholder:"9124567890",maxlength:"10","onUpdate:modelValue":e[1]||(e[1]=t=>s.dataCustomer.phone=t)},null,2),[[r.nr,s.dataCustomer.phone]]),o.v$.dataCustomer.phone.$error?((0,n.wg)(),(0,n.iD)("p",Pt,"Введите корректный ваш номер телефона")):(0,n.kq)("",!0)]),Dt,(0,n.wy)((0,n._)("textarea",{class:(0,i.C_)(["input address",{input_invalid:o.v$.dataCustomer.address.$error}]),id:"address","onUpdate:modelValue":e[2]||(e[2]=t=>s.dataCustomer.address=t)},null,2),[[r.nr,s.dataCustomer.address,void 0,{trim:!0}]]),o.v$.dataCustomer.address.$error?((0,n.wg)(),(0,n.iD)("p",wt,"Поле должно быть заполнено и не короче 10 символов")):(0,n.kq)("",!0),Bt],32))],64)}var xt=a(3053),jt=a(9117),yt={name:"vFormOrderVue",setup(){return{v$:(0,xt.ZP)()}},data(){return{dataCustomer:{name:"",phone:"",address:""},isOrderToSend:!1,messageAboutSend:""}},validations(){return{dataCustomer:{name:{required:jt.C1},phone:{required:jt.C1,numeric:jt.uR,maxLength:(0,jt.BS)(10)},address:{required:jt.C1,minLength:(0,jt.Ei)(10)}}}},methods:{validateForm(){this.v$.dataCustomer.$touch(),this.v$.dataCustomer.$error||this.sendOrder()},async sendOrder(){D().post(this.START_PAGE+"/basket",{basket:this.BASKET,dataCustomer:this.dataCustomer}).then((t=>{console.log(t),this.showFarewellPage(t.status),this.clearBasket()})).catch((t=>{console.log(t),this.showFarewellPage(t.code)}))},async showFarewellPage(t){this.isOrderToSend=!0,this.messageAboutSend=200===t?"Мы приняли ваш заказ. В ближайшее время наш оператор свяжется с вами.":"Извините, данный сервис временно не доступен. Вы также можете оформить заказ через телефон"},...(0,b.nv)(["DELETE_FROM_BASKET","CLEAR_BASKET"]),clearBasket(){this.CLEAR_BASKET()}},computed:{...(0,b.Se)(["BASKET","START_PAGE"])}};const Rt=(0,T.Z)(yt,[["render",Ct]]);var Kt=Rt;const Nt=(0,C.p7)({history:(0,C.r5)(),routes:[{path:"/",name:"catalog",component:Q},{path:"/basket",name:"basket",component:vt},{path:"/formOrder",name:"formOrder",component:Kt}]});var Gt=Nt;const Vt=(0,r.ri)(A);Vt.use(Gt),Vt.use(B),Vt.mount("#app")},5459:function(t,e,a){var r={"./americano.jpg":1669,"./broccole.jpg":8147,"./checkee.jpg":4515,"./classic.jpg":7651,"./don-cheeze.jpeg":5452,"./meet.jpg":2817,"./paprika.jpg":2583,"./pepperoni-lajt.jpg":706,"./pizza-bekon.jpg":5401,"./provance.jpg":604,"./solyami.jpg":9173,"./tomato.jpg":5690};function n(t){var e=o(t);return a(e)}function o(t){if(!a.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}n.keys=function(){return Object.keys(r)},n.resolve=o,t.exports=n,n.id=5459},1669:function(t,e,a){"use strict";t.exports=a.p+"img/americano.57fed289.jpg"},8147:function(t,e,a){"use strict";t.exports=a.p+"img/broccole.76440420.jpg"},4515:function(t,e,a){"use strict";t.exports=a.p+"img/checkee.8b9b48a4.jpg"},7651:function(t,e,a){"use strict";t.exports=a.p+"img/classic.16aafce1.jpg"},5452:function(t,e,a){"use strict";t.exports=a.p+"img/don-cheeze.8ade307d.jpeg"},2817:function(t,e,a){"use strict";t.exports=a.p+"img/meet.f84a4002.jpg"},2583:function(t,e,a){"use strict";t.exports=a.p+"img/paprika.f7a5fa9d.jpg"},706:function(t,e,a){"use strict";t.exports=a.p+"img/pepperoni-lajt.4413c034.jpg"},5401:function(t,e,a){"use strict";t.exports=a.p+"img/pizza-bekon.979aa089.jpg"},604:function(t,e,a){"use strict";t.exports=a.p+"img/provance.d662481f.jpg"},9173:function(t,e,a){"use strict";t.exports=a.p+"img/solyami.8676179f.jpg"},5690:function(t,e,a){"use strict";t.exports=a.p+"img/tomato.bffc06b2.jpg"}},e={};function a(r){var n=e[r];if(void 0!==n)return n.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,r,n,o){if(!r){var s=1/0;for(l=0;l<t.length;l++){r=t[l][0],n=t[l][1],o=t[l][2];for(var i=!0,u=0;u<r.length;u++)(!1&o||s>=o)&&Object.keys(a.O).every((function(t){return a.O[t](r[u])}))?r.splice(u--,1):(i=!1,o<s&&(s=o));if(i){t.splice(l--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[r,n,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,o,s=r[0],i=r[1],u=r[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(u)var l=u(a)}for(e&&e(r);c<s.length;c++)o=s[c],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(l)},r=self["webpackChunk"]=self["webpackChunk"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(421)}));r=a.O(r)})();
//# sourceMappingURL=app.50b62420.js.map